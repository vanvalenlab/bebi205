
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Caltech Cluster Access &#8212; BEBi 205: Deep Learning for Biological Data</title>
    
  <link rel="stylesheet" href="_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.e7340bb3dbd8dde6db86f25597f54a1b.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="vanvalenlab.github.io/bebi205/cluster-access.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Course Notebooks" href="notebooks-toc.html" />
    <link rel="prev" title="Class Project" href="final-project.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />


<!-- Opengraph tags -->
<meta property="og:url"         content="vanvalenlab.github.io/bebi205/cluster-access.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Caltech Cluster Access" />
<meta property="og:description" content="Caltech Cluster Access  Prerequisites  VPN Access  Please follow Caltech’s instructions for VPN access if you do not already have it set up. The initial set up " />
<meta property="og:image"       content="vanvalenlab.github.io/bebi205/_static/logo.png" />

<meta name="twitter:card" content="summary" />


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  <img src="_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">BEBi 205: Deep Learning for Biological Data</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="syllabus.html">
   Syllabus
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="schedule.html">
   Course Schedule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="final-project.html">
   Class Project
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Caltech Cluster Access
  </a>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="notebooks-toc.html">
   Course Notebooks
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="notebooks/data-science-in-python-key.html">
     Data Science in Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="notebooks/images.html">
     Images as Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="notebooks/sequences-key.html">
     Sequences
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="notebooks/linear-classifier-key.html">
     The Linear Classifier
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="notebooks/tf-dataset-key.html">
     TensorFlow Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="notebooks/tf-classifier.html">
     Image classification with TensorFlow
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="notebooks/optimizer.html">
     Optimizers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="notebooks/vision-model.html">
     Vision Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="notebooks/sequence-model.html">
     Sequence Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="notebooks/debugging.html">
     Debugging
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/cluster-access.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/vanvalenlab/bebi205"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/vanvalenlab/bebi205/issues/new?title=Issue%20on%20page%20%2Fcluster-access.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/vanvalenlab/bebi205/edit/master/bebi205/cluster-access.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i>
            Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#prerequisites">
   Prerequisites
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#vpn-access">
     VPN Access
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#duo-multi-factor-authentication">
     DUO Multi-factor Authentication
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#accessing-the-cluster">
   Accessing the cluster
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ssh-access">
     SSH Access
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#browser-access">
     Browser Access
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setting-up-your-environment">
   Setting up your environment
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install-miniconda">
     Install Miniconda
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#configure-a-conda-environment">
     Configure a conda environment
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#launching-a-notebook">
   Launching a notebook
  </a>
 </li>
</ul>

        </nav>
        
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="caltech-cluster-access">
<h1>Caltech Cluster Access<a class="headerlink" href="#caltech-cluster-access" title="Permalink to this headline">¶</a></h1>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<div class="section" id="vpn-access">
<h3>VPN Access<a class="headerlink" href="#vpn-access" title="Permalink to this headline">¶</a></h3>
<p>Please follow Caltech’s instructions for <a class="reference external" href="https://www.imss.caltech.edu/services/wired-wireless-remote-access/Virtual-Private-Network-VPN">VPN access</a> if you do not already have it set up. The initial set up can take a few days so please start this process as soon as possible.</p>
</div>
<div class="section" id="duo-multi-factor-authentication">
<h3>DUO Multi-factor Authentication<a class="headerlink" href="#duo-multi-factor-authentication" title="Permalink to this headline">¶</a></h3>
<p>The Caltech HPC Cluster requires multi-factor authentication. You can set this up through the <a class="reference external" href="https://access.caltech.edu/my_duo/">Access website</a>.</p>
</div>
</div>
<div class="section" id="accessing-the-cluster">
<h2>Accessing the cluster<a class="headerlink" href="#accessing-the-cluster" title="Permalink to this headline">¶</a></h2>
<p>The first time that you access the cluster you need to log in via SSH. Afterwards you can instead log in through the browser.</p>
<div class="section" id="ssh-access">
<h3>SSH Access<a class="headerlink" href="#ssh-access" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>From the command line, run</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh your-username@login.hpc.caltech.edu
</pre></div>
</div>
<ol class="simple">
<li><p>Follow the prompts to enter your <a class="reference external" href="http://access.caltech.edu">access.caltech.edu</a> password</p></li>
<li><p>Follow the prompt to complete multi-factor authentication using Duo</p></li>
</ol>
</div>
<div class="section" id="browser-access">
<h3>Browser Access<a class="headerlink" href="#browser-access" title="Permalink to this headline">¶</a></h3>
<p>Open <a class="reference external" href="https://ondemand.hpc.caltech.edu/">https://ondemand.hpc.caltech.edu/</a> and login with your Caltech username and password</p>
</div>
</div>
<div class="section" id="setting-up-your-environment">
<h2>Setting up your environment<a class="headerlink" href="#setting-up-your-environment" title="Permalink to this headline">¶</a></h2>
<p>We recommend using Conda as a package managed for python scientific computing packages. From the HPC Portal, select Clusters &gt; Central Shell Access.
<img alt="Cluster shell access" src="_images/cluster-shell.png" /></p>
<div class="section" id="install-miniconda">
<h3>Install Miniconda<a class="headerlink" href="#install-miniconda" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>From the shell, run the following</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
sh ./Miniconda3-latest-Linux-x86_64.sh
</pre></div>
</div>
<ol class="simple">
<li><p>Follow the prompts to accept the license agreement and select the install location. Select <strong>yes</strong> to add conda to your path.</p></li>
<li><p>You will need to exit the shell and then reopen it to verify that conda is active. The command <code class="docutils literal notranslate"><span class="pre">which</span> <span class="pre">python</span></code> should return <code class="docutils literal notranslate"><span class="pre">~/miniconda3/bin/python</span></code>.</p></li>
<li><p>We are now going to create a conda environment with the basic set of packages that we are using in the class. From the shell, run the following</p></li>
</ol>
</div>
<div class="section" id="configure-a-conda-environment">
<h3>Configure a conda environment<a class="headerlink" href="#configure-a-conda-environment" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Create a new environment named <code class="docutils literal notranslate"><span class="pre">bebi205</span></code> with a basic set of packages</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda create -n bebi205 <span class="nv">biopython</span><span class="o">==</span><span class="m">1</span>.78 <span class="nv">tensorflow</span><span class="o">==</span><span class="m">2</span>.4.1 scikit-image scikit-learn pandas imageio ipykernel
</pre></div>
</div>
</li>
<li><p>Activate the environment</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda activate bebi205
</pre></div>
</div>
</li>
<li><p>Install <code class="docutils literal notranslate"><span class="pre">tensorflow-addons</span></code> using pip</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install tensorflow-addons
</pre></div>
</div>
</li>
<li><p>Register a python kernel for this environment</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m ipykernel install --user --name bebi205 --display-name <span class="s2">&quot;Python (bebi205)&quot;</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="launching-a-notebook">
<h2>Launching a notebook<a class="headerlink" href="#launching-a-notebook" title="Permalink to this headline">¶</a></h2>
<p>You are now set up to launch a notebook for interactive computing. From the HPC Portal, select Interactive Apps &gt; Jupyter Lab (or Notebook). This will bring up a form to configure the compute resources that will be used for the session. As a general guide, the more hours and/or hardware that you request the longer your session will take to start.</p>
<p>The settings below are a recommended starting point for compute resources for image processing jobs. You may need to experiment a bit to find out what works best for your task. Please be mindful of shutting down instances when you don’t need them and minimizing the compute power that you request. This will help us continue to receive department funding for cluster access in the future.</p>
<p>Number of hours
: Generally should be under 48 hours</p>
<p>Number of cores
: 2 cores</p>
<p>Memory per core
: 32-64 GBs of memory total</p>
<p>Number of GPUs
: If you are training a model, you should request 1 GPU.</p>
<p>Your job may take a few minutes to a few hours to launch depending on how much compute power you requested. After the resources are available, you should see a button to open your Jupyter session. After opening jupyter, make sure to select the bebi205 kernel for your notebook.</p>
<p><img alt="Kernel drop down menu" src="_images/jupyter-kernel.png" /></p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="final-project.html" title="previous page">Class Project</a>
    <a class='right-next' id="next-link" href="notebooks-toc.html" title="next page">Course Notebooks</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By David Van Valen and Morgan Schwartz<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>